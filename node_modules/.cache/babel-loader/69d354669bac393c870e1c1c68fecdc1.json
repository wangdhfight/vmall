{"remainingRequest":"C:\\Users\\wdh\\Desktop\\Vue商城\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\wdh\\Desktop\\Vue商城\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\wdh\\Desktop\\Vue商城\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wdh\\Desktop\\Vue商城\\src\\components\\common\\scroll\\Scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\wdh\\Desktop\\Vue商城\\src\\components\\common\\scroll\\Scroll.vue","mtime":1619083124378},{"path":"C:\\Users\\wdh\\Desktop\\Vue商城\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wdh\\Desktop\\Vue商城\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\wdh\\Desktop\\Vue商城\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wdh\\Desktop\\Vue商城\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJTY3JvbGwgZnJvbSAiYmV0dGVyLXNjcm9sbCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2Nyb2xsIiwKICBwcm9wczogewogICAgcHJvYmVUeXBlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHB1bGxVcExvYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzY3JvbGw6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIC8qIDEu5Yib5bu6QlNjcm9sbOWvueixoSAqLwogICAgICBfdGhpcy5zY3JvbGwgPSBuZXcgQlNjcm9sbChfdGhpcy4kcmVmcy53cmFwcGVyLCB7CiAgICAgICAgcHJvYmVUeXBlOiBfdGhpcy5wcm9iZVR5cGUsCiAgICAgICAgcHVsbFVwTG9hZDogX3RoaXMucHVsbFVwTG9hZCwKICAgICAgICBvYnNlcnZlRE9NOiB0cnVlLAogICAgICAgIGNsaWNrOiB0cnVlCiAgICAgIH0pOwogICAgICAvKiAyLuebkeWQrOa7muWKqOS9jee9riAqLwoKICAgICAgaWYgKF90aGlzLnByb2JlVHlwZSA9PT0gMiB8fCBfdGhpcy5wcm9iZVR5cGUgPT09IDMpIHsKICAgICAgICBfdGhpcy5zY3JvbGwub24oInNjcm9sbCIsIGZ1bmN0aW9uIChwb3NpdGlvbikgewogICAgICAgICAgX3RoaXMuJGVtaXQoInNjcm9sbCIsIHBvc2l0aW9uKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICAvKiAzLuebkeWQrHNjcm9sbOa7muWKqOWIsOW6lemDqCAqLwoKCiAgICAgIGlmIChfdGhpcy5wdWxsVXBMb2FkKSB7CiAgICAgICAgX3RoaXMuc2Nyb2xsLm9uKCJwdWxsaW5nVXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy4kZW1pdCgicHVsbGluZ1VwIik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2Nyb2xsVG86IGZ1bmN0aW9uIHNjcm9sbFRvKHgsIHkpIHsKICAgICAgdmFyIHRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDMwMDsKCiAgICAgIC8qIOmAu+i+keS4ju+8jOadoeS7tuWFqOmDqOaIkOeri++8jOWImeaIkOeriyAqLwogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUbyAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUbyh4LCB5LCB0aW1lKTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5yZWZyZXNoKCk7CiAgICB9LAogICAgZmluaXNoUHVsbFVwOiBmdW5jdGlvbiBmaW5pc2hQdWxsVXAoKSB7CiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmZpbmlzaFB1bGxVcCgpOwogICAgfSwKICAgIGdldFNjcm9sbFk6IGZ1bmN0aW9uIGdldFNjcm9sbFkoKSB7CiAgICAgIHJldHVybiB0aGlzLnNjcm9sbCA/IHRoaXMuc2Nyb2xsLnkgOiAwOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Scroll.vue"],"names":[],"mappings":";;;;;;;;;;AAUA,OAAA,OAAA,MAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AALA,GAFA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,IAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OAAA,EAAA;AACA,QAAA,SAAA,EAAA,KAAA,CAAA,SADA;AAEA,QAAA,UAAA,EAAA,KAAA,CAAA,UAFA;AAGA,QAAA,UAAA,EAAA,IAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OAAA,CAAA;AAMA;;AACA,UAAA,KAAA,CAAA,SAAA,KAAA,CAAA,IAAA,KAAA,CAAA,SAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,EAAA,CAAA,QAAA,EAAA,UAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AACA,SAFA;AAGA;AACA;;;AACA,UAAA,KAAA,CAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,EAAA,CAAA,WAAA,EAAA,YAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,WAAA;AACA,SAFA;AAGA;AACA,KApBA;AAqBA,GAvCA;AAwCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,CADA,EACA,CADA,EACA;AAAA,UAAA,IAAA,uEAAA,GAAA;;AACA;AACA,WAAA,MAAA,IAAA,KAAA,MAAA,CAAA,QAAA,IAAA,KAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,CAAA,EAAA,IAAA,CAAA;AACA,KAJA;AAKA,IAAA,OALA,qBAKA;AACA,WAAA,MAAA,IAAA,KAAA,MAAA,CAAA,OAAA,EAAA;AACA,KAPA;AAQA,IAAA,YARA,0BAQA;AACA,WAAA,MAAA,IAAA,KAAA,MAAA,CAAA,YAAA,EAAA;AACA,KAVA;AAWA,IAAA,UAXA,wBAWA;AACA,aAAA,KAAA,MAAA,GAAA,KAAA,MAAA,CAAA,CAAA,GAAA,CAAA;AACA;AAbA;AAxCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"wrapper\" ref=\"wrapper\">\r\n    <!-- 选中wrapper 选中子组件，也可以绑定在普通元素上-->\r\n    <div class=\"content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from \"better-scroll\";\r\n\r\nexport default {\r\n  name: \"Scroll\",\r\n  props: {\r\n    probeType: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    pullUpLoad: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      scroll: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      /* 1.创建BScroll对象 */\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        pullUpLoad: this.pullUpLoad,\r\n        observeDOM: true,\r\n        click: true,\r\n      });\r\n      /* 2.监听滚动位置 */\r\n      if (this.probeType === 2 || this.probeType === 3) {\r\n        this.scroll.on(\"scroll\", (position) => {\r\n          this.$emit(\"scroll\", position);\r\n        });\r\n      }\r\n      /* 3.监听scroll滚动到底部 */\r\n      if (this.pullUpLoad) {\r\n        this.scroll.on(\"pullingUp\", () => {\r\n          this.$emit(\"pullingUp\");\r\n        });\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    scrollTo(x, y, time = 300) {\r\n      /* 逻辑与，条件全部成立，则成立 */\r\n      this.scroll && this.scroll.scrollTo && this.scroll.scrollTo(x, y, time);\r\n    },\r\n    refresh() {\r\n      this.scroll && this.scroll.refresh();\r\n    },\r\n    finishPullUp() {\r\n      this.scroll && this.scroll.finishPullUp();\r\n    },\r\n    getScrollY() {\r\n      return this.scroll ? this.scroll.y : 0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":"src/components/common/scroll"}]}