{"remainingRequest":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wdh\\Desktop\\项目\\vmall\\src\\views\\detail\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\src\\views\\detail\\Detail.vue","mtime":1623051548942},{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyog5YWs5YWx57uE5Lu2ICovCmltcG9ydCBEZXRhaWxOYXZCYXIgZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbE5hdkJhciI7CmltcG9ydCBEZXRhaWxTd2lwZXIgZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbFN3aXBlciI7CmltcG9ydCBEZXRhaWxCYXNlSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsQmFzZUluZm8iOwppbXBvcnQgRGV0YWlsU2hvcEluZm8gZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbFNob3BJbmZvIjsKaW1wb3J0IERldGFpbEdvb2RzSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsR29vZHNJbmZvIjsKaW1wb3J0IERldGFpbFBhcmFtSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsUGFyYW1JbmZvIjsKaW1wb3J0IERldGFpbENvbW1lbnRJbmZvIGZyb20gIi4vY2hpbGRDb21wcy9EZXRhaWxDb21tZW50SW5mbyI7CmltcG9ydCBHb29kc0xpc3QgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdCI7CmltcG9ydCBEZXRhaWxCb3R0b21CYXIgZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbEJvdHRvbUJhciI7CmltcG9ydCBTY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbCI7CmltcG9ydCBiYWNrVG9wIGZyb20gImNvbXBvbmVudHMvY29udGVudC9iYWNrdG9wL2JhY2tUb3AiOwppbXBvcnQgeyBpbWdMaXN0ZW5lck1peGluLCBiYWNrVG9wTWl4aW4gfSBmcm9tICJjb21tb24vbWl4aW4iOwovKiDnvZHnu5zor7fmsYIgKi8KCmltcG9ydCB7IGdldERldGFpbCwgR29vZHMsIFNob3AsIEdvb2RzUGFyYW1zLCBnZXRSZWNvbW1lbmQgfSBmcm9tICJuZXR3b3JrL2RldGFpbC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGV0YWlsIiwKICBjb21wb25lbnRzOiB7CiAgICBEZXRhaWxOYXZCYXI6IERldGFpbE5hdkJhciwKICAgIERldGFpbFN3aXBlcjogRGV0YWlsU3dpcGVyLAogICAgRGV0YWlsQmFzZUluZm86IERldGFpbEJhc2VJbmZvLAogICAgRGV0YWlsU2hvcEluZm86IERldGFpbFNob3BJbmZvLAogICAgRGV0YWlsR29vZHNJbmZvOiBEZXRhaWxHb29kc0luZm8sCiAgICBEZXRhaWxQYXJhbUluZm86IERldGFpbFBhcmFtSW5mbywKICAgIERldGFpbENvbW1lbnRJbmZvOiBEZXRhaWxDb21tZW50SW5mbywKICAgIERldGFpbEJvdHRvbUJhcjogRGV0YWlsQm90dG9tQmFyLAogICAgR29vZHNMaXN0OiBHb29kc0xpc3QsCiAgICBTY3JvbGw6IFNjcm9sbCwKICAgIGJhY2tUb3A6IGJhY2tUb3AKICB9LAogIG1peGluczogW2ltZ0xpc3RlbmVyTWl4aW4sIGJhY2tUb3BNaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlpZDogbnVsbCwKICAgICAgdG9wSW1hZ2VzOiBbXSwKICAgICAgZ29vZHM6IHt9LAogICAgICBzaG9wOiB7fSwKICAgICAgZGV0YWlsSW5mbzoge30sCiAgICAgIHBhcmFtSW5mbzoge30sCiAgICAgIGNvbW1lbnRJbmZvOiB7fSwKICAgICAgcmVjb21tZW5kczogW10sCiAgICAgIHRoZW1lVG9wWXM6IFswLCAxMDAwLCAyMDAwLCAzMDAwXSwKICAgICAgY3VycmVudEluZGV4OiAwLAogICAgICBpc1Nob3dCYWNrVG9wOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8qIOS/neWtmOS8oOWFpeeahGlpZCAqLwogICAgdGhpcy5paWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWlkOwogICAgLyogMS7moLnmja5paWTor7fmsYLor6bmg4XmlbDmja4gKi8KCiAgICBnZXREZXRhaWwodGhpcy5paWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICB2YXIgZGF0YSA9IHJlcy5yZXN1bHQ7CiAgICAgIC8qIDIu6I635Y+W6aG26YOo6L2u5pKt5Zu+5pWw5o2uICovCgogICAgICBfdGhpcy50b3BJbWFnZXMgPSBkYXRhLml0ZW1JbmZvLnRvcEltYWdlczsKICAgICAgLyogMy7ojrflvpfllYblk4Hkv6Hmga8gKi8KCiAgICAgIF90aGlzLmdvb2RzID0gbmV3IEdvb2RzKGRhdGEuaXRlbUluZm8sIGRhdGEuY29sdW1ucywgZGF0YS5zaG9wSW5mby5zZXJ2aWNlcyk7CiAgICAgIGNvbnNvbGUubG9nKF90aGlzLmdvb2RzKTsKICAgICAgLyogNC7liJvlu7rlupfpk7rkv6Hmga/nmoTlr7nosaEgKi8KCiAgICAgIF90aGlzLnNob3AgPSBuZXcgU2hvcChkYXRhLnNob3BJbmZvKTsKICAgICAgLyogNS7kv53lrZjllYblk4HnmoTor6bmg4XmlbDmja4gKi8KCiAgICAgIF90aGlzLmRldGFpbEluZm8gPSBkYXRhLmRldGFpbEluZm87CiAgICAgIC8qIDYu6I635b6X5Y+C5pWw5L+h5oGvICovCgogICAgICBfdGhpcy5wYXJhbUluZm8gPSBuZXcgR29vZHNQYXJhbXMoZGF0YS5pdGVtUGFyYW1zLmluZm8sIGRhdGEuaXRlbVBhcmFtcy5ydWxlKTsKICAgICAgLyogNy7lj5blh7ror4Torrrkv6Hmga8gKi8KCiAgICAgIGlmIChkYXRhLnJhdGUuY1JhdGUgIT09IDApIHsKICAgICAgICBfdGhpcy5jb21tZW50SW5mbyA9IGRhdGEucmF0ZS5saXN0WzBdOwogICAgICB9CgogICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge30pOwogICAgfSk7CiAgICAvKiDor7fmsYLmjqjojZDmlbDmja4gKi8KCiAgICBnZXRSZWNvbW1lbmQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMucmVjb21tZW5kcyA9IHJlcy5kYXRhLmxpc3Q7CiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLiRwcm9wcy5tYXRjaCk7CiAgfSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgaW1nTG9hZDogZnVuY3Rpb24gaW1nTG9hZCgpIHsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGwucmVmcmVzaCgpOwogICAgICB0aGlzLnRoZW1lVG9wWXMgPSBbXTsKICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCk7CiAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucGFyYW0uJGVsLm9mZnNldFRvcCk7CiAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMuY29tbWVudC4kZWwub2Zmc2V0VG9wKTsKICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5yZWNvbW1lbmQuJGVsLm9mZnNldFRvcCk7CiAgICB9LAogICAgdGl0bGVDbGljazogZnVuY3Rpb24gdGl0bGVDbGljayhpbmRleCkgewogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwLCAtdGhpcy50aGVtZVRvcFlzW2luZGV4XSwgMTAwKTsKICAgIH0sCiAgICBjb250ZW50U2Nyb2xsOiBmdW5jdGlvbiBjb250ZW50U2Nyb2xsKHBvc2l0aW9uKSB7CiAgICAgIHZhciBwb3NpdGlvblkgPSAtcG9zaXRpb24ueTsKICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudGhlbWVUb3BZcy5sZW5ndGg7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ICE9PSBpICYmIChpIDwgbGVuZ3RoIC0gMSAmJiBwb3NpdGlvblkgPj0gdGhpcy50aGVtZVRvcFlzW2ldICYmIHBvc2l0aW9uWSA8IHRoaXMudGhlbWVUb3BZc1tpICsgMV0gfHwgaSA9PT0gbGVuZ3RoIC0gMSAmJiBwb3NpdGlvblkgPj0gdGhpcy50aGVtZVRvcFlzW2ldKSkgewogICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5pc1Nob3dCYWNrVG9wID0gTWF0aC5hYnMocG9zaXRpb24ueSkgPiAxMDAwOwogICAgfSwKICAgIGJhY2tDbGljazogZnVuY3Rpb24gYmFja0NsaWNrKCkgewogICAgICAvKiAxLnNjcm9sbOmAmui/h3JlZueItuiuv+mXruWtkOe7hOS7tiAgMi5zY3JvbGzlsZ7mgKcgIDMu6LCD55Soc2Nyb2xsVG/nmoTmlrnms5UgKi8KICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsVG8oMCwgMCwgNTAwKTsKICAgIH0sCiAgICBhZGRDYXJ0OiBmdW5jdGlvbiBhZGRDYXJ0KCkgewogICAgICAvKiDnlKh2dWV455uR5ZCscHJvZHVjdOWvueixoSAqLwogICAgICAvLzEu6I635Y+W6LSt54mp6L2m6ZyA6KaB55qE5bGV56S65L+h5oGvCiAgICAgIHZhciBwcm9kdWN0ID0ge307CiAgICAgIHByb2R1Y3QuaW1hZ2UgPSB0aGlzLnRvcEltYWdlc1swXTsKICAgICAgcHJvZHVjdC50aXRsZSA9IHRoaXMuZ29vZHMudGl0bGU7CiAgICAgIHByb2R1Y3QuZGVzYyA9IHRoaXMuZ29vZHMuZGVzYzsKICAgICAgcHJvZHVjdC5wcmljZSA9IHRoaXMuZ29vZHMubmV3UHJpY2U7CiAgICAgIHByb2R1Y3QuaWlkID0gdGhpcy5paWQ7IC8vMi7lsIbllYblk4Hmt7vliqDliLDotK3nianovabph4wKCiAgICAgIC8qIHRoaXMuJHN0b3JlLmNvbW1pdCgiYWRkQ2FydCIsIHByb2R1Y3QpOyAqLwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFkZENhcnQiLCBwcm9kdWN0KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"detail\">\r\n    <detail-nav-bar\r\n      class=\"detailnavbar\"\r\n      @titleClick=\"titleClick\"\r\n    ></detail-nav-bar>\r\n    <scroll\r\n      class=\"content\"\r\n      ref=\"scroll\"\r\n      @scroll=\"contentScroll\"\r\n      :probe-type=\"3\"\r\n    >\r\n      <detail-swiper :topImages=\"topImages\"></detail-swiper>\r\n      <detail-base-info :goods=\"goods\"></detail-base-info>\r\n      <detail-shop-info :shop=\"shop\"></detail-shop-info>\r\n      <detail-goods-info\r\n        :detail-info=\"detailInfo\"\r\n        @imgLoad=\"imgLoad\"\r\n      ></detail-goods-info>\r\n      <detail-param-info\r\n        :param-info=\"paramInfo\"\r\n        ref=\"param\"\r\n      ></detail-param-info>\r\n      <detail-comment-info ref=\"comment\"></detail-comment-info>\r\n      <goods-list :goods=\"recommends\" ref=\"recommend\"></goods-list>\r\n    </scroll>\r\n    <back-top @click.native=\"backClick\" v-show=\"isShowBackTop\"></back-top>\r\n    <detail-bottom-bar @addCart=\"addCart\"></detail-bottom-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* 公共组件 */\r\nimport DetailNavBar from \"./childComps/DetailNavBar\";\r\nimport DetailSwiper from \"./childComps/DetailSwiper\";\r\nimport DetailBaseInfo from \"./childComps/DetailBaseInfo\";\r\nimport DetailShopInfo from \"./childComps/DetailShopInfo\";\r\nimport DetailGoodsInfo from \"./childComps/DetailGoodsInfo\";\r\nimport DetailParamInfo from \"./childComps/DetailParamInfo\";\r\nimport DetailCommentInfo from \"./childComps/DetailCommentInfo\";\r\nimport GoodsList from \"components/content/goods/GoodsList\";\r\nimport DetailBottomBar from \"./childComps/DetailBottomBar\";\r\nimport Scroll from \"components/common/scroll/Scroll\";\r\nimport backTop from \"components/content/backtop/backTop\";\r\nimport { imgListenerMixin, backTopMixin } from \"common/mixin\";\r\n/* 网络请求 */\r\nimport {\r\n  getDetail,\r\n  Goods,\r\n  Shop,\r\n  GoodsParams,\r\n  getRecommend,\r\n} from \"network/detail.js\";\r\n\r\nexport default {\r\n  name: \"Detail\",\r\n  components: {\r\n    DetailNavBar,\r\n    DetailSwiper,\r\n    DetailBaseInfo,\r\n    DetailShopInfo,\r\n    DetailGoodsInfo,\r\n    DetailParamInfo,\r\n    DetailCommentInfo,\r\n    DetailBottomBar,\r\n    GoodsList,\r\n    Scroll,\r\n    backTop,\r\n  },\r\n  mixins: [imgListenerMixin, backTopMixin],\r\n  data() {\r\n    return {\r\n      iid: null,\r\n      topImages: [],\r\n      goods: {},\r\n      shop: {},\r\n      detailInfo: {},\r\n      paramInfo: {},\r\n      commentInfo: {},\r\n      recommends: [],\r\n      themeTopYs: [0, 1000, 2000, 3000],\r\n      currentIndex: 0,\r\n      isShowBackTop: false,\r\n    };\r\n  },\r\n  created() {\r\n    /* 保存传入的iid */\r\n    this.iid = this.$route.params.iid;\r\n    /* 1.根据iid请求详情数据 */\r\n    getDetail(this.iid).then((res) => {\r\n      const data = res.result;\r\n      /* 2.获取顶部轮播图数据 */\r\n      this.topImages = data.itemInfo.topImages;\r\n      /* 3.获得商品信息 */\r\n      this.goods = new Goods(\r\n        data.itemInfo,\r\n        data.columns,\r\n        data.shopInfo.services\r\n      );\r\n      console.log(this.goods);\r\n      /* 4.创建店铺信息的对象 */\r\n      this.shop = new Shop(data.shopInfo);\r\n      /* 5.保存商品的详情数据 */\r\n      this.detailInfo = data.detailInfo;\r\n      /* 6.获得参数信息 */\r\n      this.paramInfo = new GoodsParams(\r\n        data.itemParams.info,\r\n        data.itemParams.rule\r\n      );\r\n      /* 7.取出评论信息 */\r\n      if (data.rate.cRate !== 0) {\r\n        this.commentInfo = data.rate.list[0];\r\n      }\r\n      this.$nextTick(() => {});\r\n    });\r\n    /* 请求推荐数据 */\r\n    getRecommend().then((res) => {\r\n      this.recommends = res.data.list;\r\n    });\r\n  },\r\n  mounted() {console.log(this.$props.match)},\r\n  updated() {},\r\n  methods: {\r\n    imgLoad() {\r\n      this.$refs.scroll.refresh();\r\n      this.themeTopYs = [];\r\n\r\n      this.themeTopYs.push(0);\r\n      this.themeTopYs.push(this.$refs.param.$el.offsetTop);\r\n      this.themeTopYs.push(this.$refs.comment.$el.offsetTop);\r\n      this.themeTopYs.push(this.$refs.recommend.$el.offsetTop);\r\n    },\r\n    titleClick(index) {\r\n      this.$refs.scroll.scrollTo(0, -this.themeTopYs[index], 100);\r\n    },\r\n    contentScroll(position) {\r\n      const positionY = -position.y;\r\n      let length = this.themeTopYs.length;\r\n      for (let i = 0; i < length; i++) {\r\n        if (\r\n          this.currentIndex !== i &&\r\n          ((i < length - 1 &&\r\n            positionY >= this.themeTopYs[i] &&\r\n            positionY < this.themeTopYs[i + 1]) ||\r\n            (i === length - 1 && positionY >= this.themeTopYs[i]))\r\n        ) {\r\n          this.currentIndex = i;\r\n        }\r\n      }\r\n      this.isShowBackTop = Math.abs(position.y) > 1000;\r\n    },\r\n    backClick() {\r\n      /* 1.scroll通过ref父访问子组件  2.scroll属性  3.调用scrollTo的方法 */\r\n      this.$refs.scroll.scrollTo(0, 0, 500);\r\n    },\r\n    addCart() {\r\n      /* 用vuex监听product对象 */\r\n      //1.获取购物车需要的展示信息\r\n      const product = {};\r\n      product.image = this.topImages[0];\r\n      product.title = this.goods.title;\r\n      product.desc = this.goods.desc;\r\n      product.price = this.goods.newPrice;\r\n      product.iid = this.iid;\r\n\r\n      //2.将商品添加到购物车里\r\n      /* this.$store.commit(\"addCart\", product); */\r\n      this.$store.dispatch(\"addCart\", product);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#detail {\r\n  height: 100vh;\r\n  background-color: #fff;\r\n\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.content {\r\n  background-color: #fff;\r\n  height: calc(100% - 44px);\r\n}\r\n\r\n.detailnavbar {\r\n  position: relative;\r\n  z-index: 1;\r\n  background-color: #fff;\r\n}\r\n</style>"],"sourceRoot":"src/views/detail"}]}