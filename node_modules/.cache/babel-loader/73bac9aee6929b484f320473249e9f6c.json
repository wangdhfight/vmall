{"remainingRequest":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wdh\\Desktop\\项目\\vmall\\src\\views\\category\\Category.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\src\\views\\category\\Category.vue","mtime":1594133809000},{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wdh\\Desktop\\项目\\vmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy93ZGgvRGVza3RvcC9cdTk4NzlcdTc2RUUvdm1hbGwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNsaWRlQmFyIGZyb20gIi4vY2hpbGRyZW4vU2xpZGVCYXIiOwppbXBvcnQgTmF2QmFyIGZyb20gIkAvY29tcG9uZW50cy9jb21tb24vbmF2YmFyL05hdkJhciI7CmltcG9ydCB7IGdldENhdGVnb3J5IGFzIF9nZXRDYXRlZ29yeSwgZ2V0Q2F0ZWdvcnlEZXRhaWwgYXMgX2dldENhdGVnb3J5RGV0YWlsLCBnZXRTdWJjYXRlZ29yeSBhcyBfZ2V0U3ViY2F0ZWdvcnkgfSBmcm9tICJAL25ldHdvcmsvY2F0ZWdvcnkiOwppbXBvcnQgU3ViY2F0ZWdvcnkgZnJvbSAiLi9jaGlsZHJlbi9TdWJjYXRlZ29yeSI7CmltcG9ydCBTY3JvbGwgZnJvbSAiQC9jb21wb25lbnRzL2NvbW1vbi9zY3JvbGwvU2Nyb2xsIjsKaW1wb3J0IFRhYkNvbnRyb2wgZnJvbSAiQC9jb21wb25lbnRzL2NvbnRlbnQvdGFiQ29udHJvbC9UYWJDb250cm9sIjsKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICJAL2NvbXBvbmVudHMvY29udGVudC9nb29kcy9Hb29kc0xpc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhdGVnb3J5IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5YiG57G75YaF5a655pWw5o2uCiAgICAgIHN1YmNhdGVnb3J5TGlzdDogW10sCiAgICAgIGNhdGVnb3J5RGV0YWlsTGlzdDogW10sCiAgICAgIC8vIOWIhuexu+S+p+i+ueagj+aVsOaNrgogICAgICBjYXRlZ29yeUxpc3Q6IFtdLAogICAgICB0aXRsZUxpc3Q6IFsi5rWB6KGMIiwgIuaWsOasviIsICLnsr7pgIkiXSwKICAgICAgY3VycmVudEluZGV4OiAwCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgR29vZHNMaXN0OiBHb29kc0xpc3QsCiAgICBUYWJDb250cm9sOiBUYWJDb250cm9sLAogICAgU2Nyb2xsOiBTY3JvbGwsCiAgICBTdWJjYXRlZ29yeTogU3ViY2F0ZWdvcnksCiAgICBOYXZCYXI6IE5hdkJhciwKICAgIFNsaWRlQmFyOiBTbGlkZUJhcgogIH0sCiAgbWV0aG9kczogewogICAgc2xpZGVCYXJJdGVtQ2xpY2s6IGZ1bmN0aW9uIHNsaWRlQmFySXRlbUNsaWNrKF9yZWYpIHsKICAgICAgdmFyIG1haXRLZXkgPSBfcmVmLm1haXRLZXksCiAgICAgICAgICBpbmRleCA9IF9yZWYuaW5kZXg7CiAgICAgIC8vIOmYsuatouWPjeWkjeivt+axggogICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT09IGluZGV4KSByZXR1cm47CiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7IC8vIOavj+asoeWIh+aNouWIhuexu+WIneWni+WMlnRhYkNvbnRyb2znmoTkuIvmoIcKCiAgICAgIHRoaXMuJHJlZnMudGFiQ29udHJvbC5jdXJJbmRleCA9IDA7IC8vIOivt+axguWvueW6lOeahOaOqOiNkOWIl+ihqAoKICAgICAgdGhpcy5nZXRDYXRlZ29yeURldGFpbCh0aGlzLmNhdGVnb3J5TGlzdFt0aGlzLmN1cnJlbnRJbmRleF0ubWluaVdhbGxrZXksICJwb3AiKTsKICAgICAgdGhpcy5nZXRTdWJjYXRlZ29yeShtYWl0S2V5KTsKICAgIH0sCiAgICBnZXRDYXRlZ29yeTogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfZ2V0Q2F0ZWdvcnkoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5jYXRlZ29yeS5saXN0KTsKICAgICAgICBfdGhpcy5jYXRlZ29yeUxpc3QgPSByZXMuZGF0YS5jYXRlZ29yeS5saXN0OwoKICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuZ2V0U3ViY2F0ZWdvcnkoX3RoaXMuY2F0ZWdvcnlMaXN0WzBdLm1haXRLZXkpOwoKICAgICAgICAgIF90aGlzLmdldENhdGVnb3J5RGV0YWlsKF90aGlzLmNhdGVnb3J5TGlzdFswXS5taW5pV2FsbGtleSwgInBvcCIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTdWJjYXRlZ29yeTogZnVuY3Rpb24gZ2V0U3ViY2F0ZWdvcnkoa2V5KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgX2dldFN1YmNhdGVnb3J5KGtleSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEubGlzdCk7CiAgICAgICAgX3RoaXMyLnN1YmNhdGVnb3J5TGlzdCA9IF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5saXN0KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2F0ZWdvcnlEZXRhaWw6IGZ1bmN0aW9uIGdldENhdGVnb3J5RGV0YWlsKGtleSwgdHlwZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIF9nZXRDYXRlZ29yeURldGFpbChrZXksIHR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMzLmNhdGVnb3J5RGV0YWlsTGlzdCA9IF90b0NvbnN1bWFibGVBcnJheShyZXMpOwogICAgICB9KTsKICAgIH0sCiAgICB0YWJDbGljazogZnVuY3Rpb24gdGFiQ2xpY2soaW5kZXgpIHsKICAgICAgdmFyIHR5cGVMaXN0ID0gWyJwb3AiLCAibmV3IiwgInNlbGwiXTsgLy8g5YiH5o2i57G75Z6L5pWw5o2uCgogICAgICB0aGlzLmdldENhdGVnb3J5RGV0YWlsKHRoaXMuY2F0ZWdvcnlMaXN0W3RoaXMuY3VycmVudEluZGV4XS5taW5pV2FsbGtleSwgdHlwZUxpc3RbaW5kZXhdKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENhdGVnb3J5KCk7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwogIH0KfTs="},{"version":3,"sources":["Category.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"category\">\n    <nav-bar class=\"category-nav-bar\">\n      <div slot=\"center\">商品分类</div>\n    </nav-bar>\n    <slide-bar :slide-bar-list=\"categoryList\" @slideBarItemClick=\"slideBarItemClick\" />\n    <scroll class=\"scroll-height\">\n      <subcategory :category-list=\"subcategoryList\" />\n      <tab-control :titles=\"titleList\" @tabClick=\"tabClick\" ref=\"tabControl\" />\n      <goods-list :goods=\"categoryDetailList\" :goods-height=\"false\" />\n    </scroll>\n  </div>\n</template>\n\n<script>\nimport SlideBar from \"./children/SlideBar\";\nimport NavBar from \"@/components/common/navbar/NavBar\";\nimport { getCategory, getCategoryDetail, getSubcategory } from \"@/network/category\";\nimport Subcategory from \"./children/Subcategory\";\nimport Scroll from \"@/components/common/scroll/Scroll\";\nimport TabControl from \"@/components/content/tabControl/TabControl\";\nimport GoodsList from \"@/components/content/goods/GoodsList\";\n\nexport default {\n  name: \"Category\",\n  data() {\n    return {\n      // 分类内容数据\n      subcategoryList: [],\n      categoryDetailList: [],\n      // 分类侧边栏数据\n      categoryList: [],\n      titleList: [\"流行\", \"新款\", \"精选\"],\n      currentIndex: 0\n    };\n  },\n  components: { GoodsList, TabControl, Scroll, Subcategory, NavBar, SlideBar },\n  methods: {\n    slideBarItemClick({ maitKey, index }) {\n      // 防止反复请求\n      if (this.currentIndex === index) return;\n      this.currentIndex = index;\n      // 每次切换分类初始化tabControl的下标\n      this.$refs.tabControl.curIndex = 0;\n      // 请求对应的推荐列表\n      this.getCategoryDetail(this.categoryList[this.currentIndex].miniWallkey, \"pop\");\n      this.getSubcategory(maitKey);\n    },\n    getCategory() {\n      getCategory().then(res => {\n        // console.log(res.data.category.list);\n        this.categoryList = res.data.category.list;\n        this.$nextTick(() => {\n          this.getSubcategory(this.categoryList[0].maitKey);\n          this.getCategoryDetail(this.categoryList[0].miniWallkey, \"pop\");\n        });\n      });\n    },\n    getSubcategory(key) {\n      getSubcategory(key).then(res => {\n        // console.log(res.data.list);\n        this.subcategoryList = [...res.data.list];\n      });\n    },\n    getCategoryDetail(key, type) {\n      getCategoryDetail(key, type).then(res => {\n        // console.log(res);\n        this.categoryDetailList = [...res];\n      });\n    },\n    tabClick(index) {\n      const typeList = [\"pop\", \"new\", \"sell\"];\n      // 切换类型数据\n      this.getCategoryDetail(this.categoryList[this.currentIndex].miniWallkey, typeList[index]);\n    }\n  },\n  created() {\n    this.getCategory();\n  },\n  activated() {\n    this.$store.commit(\"setLoading\", true);\n  }\n};\n</script>\n\n<style scoped>\n.category-nav-bar {\n  font-weight: 600;\n  color: white;\n  background-color: #ff8198;\n}\n\n.scroll-height {\n  position: fixed;\n  top: 44px;\n  right: 0;\n  bottom: 50px;\n  left: 100px;\n  overflow: hidden;\n}\n</style>\n"],"sourceRoot":"src/views/category"}]}